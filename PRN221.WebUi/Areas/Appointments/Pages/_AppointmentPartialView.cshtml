@model List<AppointmentSlot>
<div>
    <label for="selectedTimeslot">Time</label>
</div>

@if (Model.Any())
{
    @foreach (var timeslot in Model)
    {
        <div class="form-check form-check-inline">
            @if (timeslot.IsBooked)
            {
                if (timeslot.IsCurrent)
                {
                    <button type="button" class="btn btn-outline-info m-1 time-slot-btn" data-time="@timeslot.StartTime" onclick="timeSlotSelected(this)">
                        @timeslot.Duration
                    </button>
                }
                else
                {
                    <button type="button" class="btn btn-outline-dark m-1 time-slot-btn" data-time="@timeslot.StartTime" disabled onclick="timeSlotSelected(this)">
                        @timeslot.Duration
                    </button>
                }
            }
            else
            {
                <button type="button" class="btn btn-outline-primary m-1 time-slot-btn" data-time="@timeslot.StartTime" onclick="timeSlotSelected(this)">
                    @timeslot.Duration
                </button>
            }
        </div>
    }
}
else
{
    <span>No available time slots for the selected date and doctor.</span>
}
<script>
    function timeSlotSelected(button) {
        console.log("click");
                        const selectedTime = $(button).data('time');
                        console.log(selectedTime);
                        $('#Appointment_Time').val(selectedTime);
                        $('.time-slot-btn').removeClass('btn-primary').addClass('btn-outline-primary');
                        $(button).removeClass('btn-outline-primary').addClass('btn-primary');
    }
</script>